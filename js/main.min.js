"use strict";var inputsFilter=function(){document.querySelectorAll(".js-only-digits").forEach((function(e){e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/\D/g,"")}))}))},formValidation=function(){var e=document.querySelectorAll(".form");document.querySelectorAll("#password, #confirmPassword");e.forEach((function(e){var t=new Pristine(e);e.addEventListener("submit",(function(n){n.preventDefault(),t.validate()?e.submit():setTimeout((function(){t.reset()}),5e3)}))}))},inputMasking=function(){document.querySelectorAll(".js-mask-phone").forEach((function(e){e.addEventListener("input",(function(e){VMasker(e.target).maskPattern("(999) 999-99-99")}))}))},popups=function(){var e=document.querySelectorAll(".popup"),t=document.querySelectorAll(".js-popup-open"),n=document.querySelectorAll(".js-popup-close"),o=document.querySelectorAll(".lock-padding"),r=document.querySelector("body"),i=null,s=null,c=!1,l=!1;function a(e){if(!c){c=!0;var t=document.querySelector(".popup.is-opened");t&&u(t,!1),e.scrollTo(0,0),e.classList.add("is-opened"),i=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",o.length>0&&o.forEach((function(e){e.style.paddingRight=i})),r.style.paddingRight=i,r.classList.add("lock")}}function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c||(c=!0,s=document.querySelector(".burger.is-active"),e.classList.remove("is-opened"),t&&!s&&(l=!0))}t.length>0&&t.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=document.querySelector(e.getAttribute("href"));n&&a(n)}))})),n.length>0&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),u(e.closest(".popup"))}))})),e.length>0&&(e.forEach((function(e){e.addEventListener("transitionend",(function(e){"transform"===e.propertyName&&(c=!1,l&&(r.style.paddingRight="0px",r.classList.remove("lock"),o.length>0&&o.forEach((function(e){e.style.paddingRight="0px"})),l=!1))})),e.addEventListener("click",(function(e){e.target.closest(".popup__body")||u(e.target.closest(".popup.is-opened"))}))})),document.addEventListener("keydown",(function(e){if(27===e.which){var t=document.querySelector(".popup.is-opened");t&&u(t)}})))},imgToBackground=function(){document.querySelectorAll(".ibg").forEach((function(e){e.querySelector("img")&&(e.style.backgroundImage="url("+e.querySelector("img").getAttribute("src")+")",e.querySelector("img").style.display="none")}))},burgerMenu=function(e){var t=document.querySelector(".burger"),n=document.querySelector(".".concat(e));n&&(t.addEventListener("click",(function(e){t.classList.toggle("is-active"),n.classList.toggle("is-shown")})),document.querySelector(".js-burger-close").addEventListener("click",(function(e){t.classList.remove("is-active"),n.classList.remove("is-shown")})))},sliders=function(){new Swiper(".banner-slider__container",{navigation:{prevEl:".banner-slider__arrow--prev",nextEl:".banner-slider__arrow--next"},pagination:{el:".banner-slider__pagination",type:"bullets"},slidesPerView:1}),new Swiper(".actions-slider__container",{loop:!0,pagination:{el:".actions-slider__pagination",type:"bullets"},spaceBetween:0,slidesPerView:1,breakpoints:{767:{slidesPerView:2},1343:{slidesPerView:3}}}),new Swiper(".slider-similars__container",{loop:!0,navigation:{nextEl:".slider-similars__arrow--next",prevEl:".slider-similars__arrow--prev"},spaceBetween:45,slidesPerView:1,breakpoints:{767:{slidesPerView:2},992:{slidesPerView:3},1343:{slidesPerView:4}}}),new Swiper(".slider-testimonials__container",{loop:!0,pagination:{el:".slider-testimonials__pagination",type:"bullets"},spaceBetween:60,slidesPerView:1,breakpoints:{1470:{slidesPerView:4},800:{slidesPerView:2},1200:{slidesPerView:3}}})},smoothScroll=function(e){document.querySelectorAll(".js-smoothscroll-btn").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n=document.querySelector(t.target.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,o=window.pageYOffset,r=n-o,i=null;requestAnimationFrame((function t(n){null===i&&(i=n);var s,c,l,a=n-i,u=(s=a,c=o,l=r,(s/=e/2)<1?l/2*s*s+c:(s--,-l/2*(s*(s-2)-1)+c));window.scrollTo(0,u),a<e&&requestAnimationFrame(t)}))}),!1)}))},yandexMaps=function(){ymaps.ready((function(){new ymaps.Map("yamap-footer",{center:[47.822373,35.170355],zoom:16}),new ymaps.Map("yamap-contacts",{center:[47.822373,35.170355],zoom:16})}))},preloader=function(){var e=document.querySelector(".preloader__body"),t=document.querySelector(".preloader"),n=document.querySelector("body");t&&(n.classList.add("lock"),new Promise((function(e){setTimeout(e,800)})).then((function(){e.style.display="none",t.classList.add("is-loaded"),n.classList.remove("lock")})))},dropdownMenu=function(){var e=document.querySelector(".js-dropdown-menu"),t=document.querySelector(".js-dropdown-menu-btn");e&&t.addEventListener("click",(function(n){n.preventDefault(),e.classList.toggle("is-opened"),t.classList.toggle("is-active")})),document.querySelector("body").addEventListener("click",(function(n){n.target.closest(".dropdown-menu")||n.target.closest(".menu-bot-header__item")||(e.classList.remove("is-opened"),t.classList.remove("is-active"))}))},selectors=function(){document.querySelectorAll(".selector").forEach((function(e){var t=e.querySelector(".selector__current > span"),n=e.querySelector(".selector__current"),o=e.querySelector(".selector__options"),r=e.querySelector(".selector__input"),i=e.querySelectorAll(".selector__option");n.addEventListener("click",(function(e){o.closest(".selector").classList.toggle("is-shown")})),i.forEach((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-value"),o=e.textContent;r.value=n,t.textContent=o,s()}))}));var s=function(){o.closest(".selector").classList.remove("is-shown")};document.addEventListener("click",(function(t){e.contains(t.target)||s()}))}))},filterSlider=function(){var e=document.querySelector(".filter-slider__line"),t=[document.querySelector(".filter-slider__input--from"),document.querySelector(".filter-slider__input--to")];e&&(noUiSlider.create(e,{start:[5,15],connect:!0,tooltips:[!0,wNumb({decimals:0})],range:{min:0,max:40},format:wNumb({decimals:0,thousand:""})}),e.noUiSlider.on("update",(function(e,n){t[n].value=e[n]})),t.forEach((function(t,n){t.addEventListener("change",(function(){e.noUiSlider.setHandle(n,this.value)}))})))};document.addEventListener("DOMContentLoaded",(function(){inputsFilter(),inputMasking(),imgToBackground(),sliders(),burgerMenu("menu-bot-header"),popups(),formValidation(),smoothScroll(500),preloader(),filterSlider(),selectors(),dropdownMenu(),yandexMaps(),svg4everybody()}));